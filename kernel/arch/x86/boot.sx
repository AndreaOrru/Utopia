.intel_syntax noprefix

#define ALIGN     (1 << 0)
#define MEMINFO   (1 << 1)
#define FLAGS     (ALIGN | MEMINFO)
#define MAGIC     0x1BADB002
#define CHECKSUM  -(MAGIC + FLAGS)

.section .multiboot
.align 4
    .long MAGIC
    .long FLAGS
    .long CHECKSUM

.text
.global boot
.type boot, @function
boot:
    mov esp, 0x7C00

    push ebx
    push eax
    call main

    cli
    hlt
